<geometry>

  <!-- waveguide -->
      <cylinder_space
	 name="cylindricalwaveguide_space"
	 z1="-0.07"
	 z2="0.07"
	 longitudinal_mesh_count="10"
	 longitudinal_mesh_power="1."
	 r="0.00502920"
	 radial_mesh_count="30"
	 radial_mesh_power="1."
	 axial_mesh_count="128"
	 />


<!-- center -->
    <flattened_circle_surface name="center_surface" z="0." flattened_mesh_count="10" flattened_mesh_power="4.">
        <circle x="0.0" y="0.0" radius="0.00502920" circle_mesh_count="128"/>
    </flattened_circle_surface>


    <!-- pinch coil -->

    <tag name="magnet_tag">
      <cylinder_tube_space
	 name="pinch_coil_space"
	 z1="-.0038"
	 z2=".0038"
	 longitudinal_mesh_count="10"
	 longitudinal_mesh_power="1."
	 r1="0.0074"
	 r2="0.0094"
	 radial_mesh_count="30"
	 radial_mesh_power="1."
	 axial_mesh_count="128"
	 />
      </tag>

    <!-- bathtub coil -->

    <tag name="magnet_tag">
      <cylinder_tube_space
	 name="bathtub_coil_space"
	 z1="-.0038"
	 z2=".0038"
	 longitudinal_mesh_count="10"
	 longitudinal_mesh_power="1."
	 r1="0.0074"
	 r2="0.0094"
	 radial_mesh_count="30"
	 radial_mesh_power="1."
	 axial_mesh_count="128"
	 />
      </tag>

    <!-- assembly -->

    <space name="project8_assembly">
      <space name="waveguide" node="cylindricalwaveguide_space">
	<surface name="center" node="center_surface"/>
	</space>
      <space name="upstream_pinch_coil" node="pinch_coil_space">
    	<transformation rotation_euler="0. 0. 0."/>
	<transformation displacement="{0.} {0.} {0.0221742}"/>
	</space>
      <space name="center_pinch_coil" node="pinch_coil_space">
    	<transformation rotation_euler="0. 0. 0."/>
	<transformation displacement="{0.} {0.} {0.}"/>
	</space>
      <space name="downstream_pinch_coil" node="pinch_coil_space">
    	<transformation rotation_euler="0. 0. 0."/>
	<transformation displacement="{0.} {0.} {-0.0221742}"/>
	</space>
      <space name="upstream_bathtub_coil" node="bathtub_coil_space">
    	<transformation rotation_euler="0. 0. 0."/>
	<transformation displacement="{0.} {0.} {0.0443484}"/>
	</space>
      <space name="downstream_bathtub_coil" node="bathtub_coil_space">
    	<transformation rotation_euler="0. 0. 0."/> 
	<transformation displacement="{0.} {0.} {-0.0443484}"/>
	</space>
      </space>



    <!-- appearance -->

    <appearance name="app_magnet_upstream_pinch" color="0 255 96 96" arc="72" surfaces="project8_assembly/upstream_pinch_coil/#"/>
    <appearance name="app_magnet_downstream_pinch" color="0 255 96 96" arc="72" surfaces="project8_assembly/downstream_pinch_coil/#"/>
    <appearance name="app_magnet_center_pinch" color="0 255 96 96" arc="72" surfaces="project8_assembly/center_pinch_coil/#"/>
    <appearance name="app_magnet_upstream_bathtub" color="0 255 96 96" arc="72" surfaces="project8_assembly/upstream_bathtub_coil/#"/>
    <appearance name="app_magnet_downstream_bathtub" color="0 255 96 96" arc="72" surfaces="project8_assembly/downstream_bathtub_coil/#"/>
    <appearance name="app_waveguide_top" color="255 128 0 96" arc="72" surfaces="project8_assembly/waveguide/top"/>
    <appearance name="app_waveguide_bottom" color="255 128 0 96" arc="72" surfaces="project8_assembly/waveguide/bottom"/>
    <appearance name="app_waveguide_jacket" color="255 128 0 96" arc="72" surfaces="project8_assembly/waveguide/jacket"/>
    <appearance name="app_center" color="0 128 255 96" arc="72" surfaces="project8_assembly/waveguide/center"/>

</geometry>
