<!-- bathtub coils -->
<external_define name="fieldZ" value="0.0405"/>
<external_define name="current" value="1.000000"/>
<external_define name="coil_length" value="0.001"/>
<external_define name="radial_width" value="0.001"/>

<tag name="magnet_tag" name="coil_tag_000">
  <cylinder_tube_space
    name="coil_space_000"
    z1="{-[coil_length]/2}"
    z2="{[coil_length]/2}"
    longitudinal_mesh_count="10"
    longitudinal_mesh_power="1."
    r1="{0.050000-[radial_width]/2}"
    r2="{0.050000+[radial_width]/2}"
    radial_mesh_count="30"
    radial_mesh_power="1."
    axial_mesh_count="128"
  />
</tag>
<tag name="magnet_tag" name="coil_tag_001">
  <cylinder_tube_space
    name="coil_space_001"
    z1="{-[coil_length]/2}"
    z2="{[coil_length]/2}"
    longitudinal_mesh_count="10"
    longitudinal_mesh_power="1."
    r1="{0.050000-[radial_width]/2}"
    r2="{0.050000+[radial_width]/2}"
    radial_mesh_count="30"
    radial_mesh_power="1."
    axial_mesh_count="128"
  />
</tag>
<tag name="magnet_tag" name="coil_tag_002">
  <cylinder_tube_space
    name="coil_space_002"
    z1="{-[coil_length]/2}"
    z2="{[coil_length]/2}"
    longitudinal_mesh_count="10"
    longitudinal_mesh_power="1."
    r1="{0.068500-[radial_width]/2}"
    r2="{0.068500+[radial_width]/2}"
    radial_mesh_count="30"
    radial_mesh_power="1."
    axial_mesh_count="128"
  />
</tag>
<tag name="magnet_tag" name="coil_tag_003">
  <cylinder_tube_space
    name="coil_space_003"
    z1="{-[coil_length]/2}"
    z2="{[coil_length]/2}"
    longitudinal_mesh_count="10"
    longitudinal_mesh_power="1."
    r1="{0.068500-[radial_width]/2}"
    r2="{0.068500+[radial_width]/2}"
    radial_mesh_count="30"
    radial_mesh_power="1."
    axial_mesh_count="128"
  />
</tag>
<tag name="magnet_tag" name="coil_tag_004">
  <cylinder_tube_space
    name="coil_space_004"
    z1="{-[coil_length]/2}"
    z2="{[coil_length]/2}"
    longitudinal_mesh_count="10"
    longitudinal_mesh_power="1."
    r1="{0.050149-[radial_width]/2}"
    r2="{0.050149+[radial_width]/2}"
    radial_mesh_count="30"
    radial_mesh_power="1."
    axial_mesh_count="128"
  />
</tag>
<tag name="magnet_tag" name="coil_tag_005">
  <cylinder_tube_space
    name="coil_space_005"
    z1="{-[coil_length]/2}"
    z2="{[coil_length]/2}"
    longitudinal_mesh_count="10"
    longitudinal_mesh_power="1."
    r1="{0.050149-[radial_width]/2}"
    r2="{0.050149+[radial_width]/2}"
    radial_mesh_count="30"
    radial_mesh_power="1."
    axial_mesh_count="128"
  />
</tag>

<!-- assembly -->
<space name="project8_assembly">
<space name="coil_000" node="coil_space_000">
  <transformation rotation_euler="0. 0. 0."/> 

  <transformation displacement="{0.} {0.} {-0.092264}"/>
</space>
<space name="coil_001" node="coil_space_001">
  <transformation rotation_euler="0. 0. 0."/> 

  <transformation displacement="{0.} {0.} {0.092264}"/>
</space>
<space name="coil_002" node="coil_space_002">
  <transformation rotation_euler="0. 0. 0."/> 

  <transformation displacement="{0.} {0.} {-0.019478}"/>
</space>
<space name="coil_003" node="coil_space_003">
  <transformation rotation_euler="0. 0. 0."/> 

  <transformation displacement="{0.} {0.} {0.019478}"/>
</space>
<space name="coil_004" node="coil_space_004">
  <transformation rotation_euler="0. 0. 0."/> 

  <transformation displacement="{0.} {0.} {-0.056863}"/>
</space>
<space name="coil_005" node="coil_space_005">
  <transformation rotation_euler="0. 0. 0."/> 

  <transformation displacement="{0.} {0.} {0.056863}"/>
</space>
</space>

<cylinder_space name="world_space" z1="-50" z2="50" r="20"/>
<space name="world" node="world_space">
  <space name="project8" tree="project8_assembly">
    <transformation rotation_axis_angle="[alignment] 90. 90."/>
  </space>
</space>

<!-- electromagnets -->
<electromagnet name="electromagnet_solenoid" spaces="world/project8/@coil_tag_000" current="{-1*-750.000000*[current] }"/>
<electromagnet name="electromagnet_solenoid" spaces="world/project8/@coil_tag_001" current="{-1*-750.000000*[current] }"/>
<electromagnet name="electromagnet_solenoid" spaces="world/project8/@coil_tag_002" current="{-1*250.000000*[current] }"/>
<electromagnet name="electromagnet_solenoid" spaces="world/project8/@coil_tag_003" current="{-1*250.000000*[current] }"/>
<electromagnet name="electromagnet_solenoid" spaces="world/project8/@coil_tag_004" current="{-1*220.323104*[current] }"/>
<electromagnet name="electromagnet_solenoid" spaces="world/project8/@coil_tag_005" current="{-1*220.323104*[current] }"/>

<!-- VTK appearance -->
<appearance name="app_magnet" color="0 255 96 96" arc="72" surfaces="world/project8/coil_000/#"/>
<appearance name="app_magnet" color="0 255 96 96" arc="72" surfaces="world/project8/coil_001/#"/>
<appearance name="app_magnet" color="0 255 96 96" arc="72" surfaces="world/project8/coil_002/#"/>
<appearance name="app_magnet" color="0 255 96 96" arc="72" surfaces="world/project8/coil_003/#"/>
<appearance name="app_magnet" color="0 255 96 96" arc="72" surfaces="world/project8/coil_004/#"/>
<appearance name="app_magnet" color="0 255 96 96" arc="72" surfaces="world/project8/coil_005/#"/>
